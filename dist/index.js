var c=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var q=Object.prototype.hasOwnProperty;var C=(r,e)=>{for(var t in e)c(r,t,{get:e[t],enumerable:!0})},b=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of T(e))!q.call(r,n)&&n!==t&&c(r,n,{get:()=>e[n],enumerable:!(s=h(e,n))||s.enumerable});return r};var P=r=>b(c({},"__esModule",{value:!0}),r);var x={};C(x,{createClient:()=>l,default:()=>w});module.exports=P(x);var i=class{constructor(){this.interceptors=[]}use(e){return this.interceptors.push(e)}eject(e){e>=0&&e<this.interceptors.length&&this.interceptors.splice(e,1)}async apply(e){let t={...e};for(let s of this.interceptors)t=await s(t);return t}};var a=class{constructor(){this.interceptors=[]}use(e){return this.interceptors.push(e)}eject(e){e>=0&&e<this.interceptors.length&&this.interceptors.splice(e,1)}async apply(e){let t={...e};for(let s of this.interceptors)t=await s(t);return t}};function g(r,e){return e?r.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):r}function f(r,e){if(!e)return r;let t=Object.entries(e).filter(([m,u])=>u!=null).map(([m,u])=>`${encodeURIComponent(m)}=${encodeURIComponent(String(u))}`).join("&");if(!t)return r;let s=r.indexOf("#"),n=s===-1?r:r.slice(0,s),o=s===-1?"":r.slice(s),d=n.indexOf("?")===-1?"?":"&";return n+d+t+o}function y(r){return r.toLowerCase()}function R(r,e){return e&&Object.entries(e).forEach(([t,s])=>{r[y(t)]=s}),r}var p=class{constructor(e={}){this.config={baseURL:"",timeout:3e4,retries:3,cache:!0,...e},this.requestInterceptors=new i,this.responseInterceptors=new a}async get(e,t){return this.request({...t,method:"GET",url:e})}async post(e,t,s){return this.request({...s,method:"POST",url:e,data:t})}async put(e,t,s){return this.request({...s,method:"PUT",url:e,data:t})}async delete(e,t){return this.request({...t,method:"DELETE",url:e})}async patch(e,t,s){return this.request({...s,method:"PATCH",url:e,data:t})}async head(e,t){return this.request({...t,method:"HEAD",url:e})}async options(e,t){return this.request({...t,method:"OPTIONS",url:e})}async request(e){let t=await this.requestInterceptors.apply({...this.config,...e}),s=await this.makeRequest(t);return s=await this.responseInterceptors.apply(s),s}async makeRequest(e){let t=new AbortController,s=setTimeout(()=>t.abort(),e.timeout||this.config.timeout);try{let n=this.buildFullUrl(e),o=await fetch(n,{method:e.method,headers:this.buildHeaders(e),body:this.buildBody(e),signal:t.signal});return clearTimeout(s),{data:await this.parseResponse(o),status:o.status,statusText:o.statusText,headers:this.parseHeaders(o),config:e}}catch(n){throw clearTimeout(s),this.handleError(n)}}buildFullUrl(e){let t=e.url;return e.params&&(t=f(t,e.params)),this.config.baseURL&&(t=g(this.config.baseURL,t)),t}buildHeaders(e){return new Headers(R({"Content-Type":"application/json"},{...this.config.headers,...e.headers}))}buildBody(e){if(e.data)return JSON.stringify(e.data)}async parseResponse(e){let t=e.headers.get("content-type");return t!=null&&t.includes("application/json")?e.json():e.text()}parseHeaders(e){let t={};return e.headers.forEach((s,n)=>{t[n]=s}),t}handleError(e){if(e instanceof Error){let t=e;return e.name==="AbortError"&&(t.isTimeout=!0,t.message="Request timeout"),t}return new Error("Unknown error occurred")}};function l(r={}){return new p(r)}var w={createClient:l};0&&(module.exports={createClient});
